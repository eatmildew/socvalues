<head>
<link href="https://fonts.googleapis.com/css?family=Montserrat:300,400,700|Roboto:400,700" rel="stylesheet">
<link href='style.css' rel='stylesheet' type='text/css'>
<title>SocValues Results</title>
<link rel="icon" type="x-icon" href="icon.png">
<link rel="shortcut icon" type="x-icon" href="icon.png">
<meta charset="utf-8">
<script>
  version = "Test Edition #1" //Remember to update this before making changes to the test itself!
</script>
</head>
<script type="application/javascript"
        src="ideologies.js">
</script>

<body>
<h1>SocValues</h1>
<hr>

<h1>Results</h1>

<h2>Economic Axis: <span class="weight-300" id="economic-label"></span></h2>
<div class="axis">
    <img id="img-equality" src="value_images/equality.png" height="128pt"/>
    <div class="bar equality" id="bar-equality"><div class="text-wrapper" id="equality"></div></div>
    <div class="bar classs" id="bar-classs"><div class="text-wrapper" id="classs"></div></div>
    <img id="img-classs" src="value_images/class.png" height="128pt"/>
</div>
<h2>Civil Axis: <span class="weight-300" id="civil-label"></span></h2>
<div class="axis">
    <img id="img-coercion" src="value_images/coercion.png" height="128pt"/>
    <div class="bar coercion" id="bar-coercion"><div class="text-wrapper" id="coercion"></div></div>
    <div class="bar freedom" id="bar-freedom"><div class="text-wrapper" id="freedom"></div></div>
    <img id="img-freedom" src="value_images/freedom.png" height="128pt"/>
</div>
<h2>Social Axis: <span class="weight-300" id="society-label"></span></h2>
<div class="axis">
    <img id="img-progress" src="value_images/progress.png" height="128pt"/>
    <div class="bar progress" id="bar-progress"><div class="text-wrapper" id="progress"></div></div>
    <div class="bar tradition" id="bar-tradition"><div class="text-wrapper" id="tradition"></div></div>
    <img id="img-tradition" src="value_images/tradition.png" height="128pt"/>
</div>
<h2>Diplomatic Axis: <span class="weight-300" id="diplomatic-label"></span></h2>
<div class="axis">
    <img id="img-nation" src="value_images/nation.png" height="128pt"/>
    <div class="bar nation" id="bar-nation"><div class="text-wrapper" id="nation"></div></div>
    <div class="bar world" id="bar-world"><div class="text-wrapper" id="world"></div></div>
    <img id="img-world" src="value_images/world.png" height="128pt"/>
</div>
<h2>Environmental Axis: <span class="weight-300" id="environmental-label"></span></h2>
<div class="axis">
    <img id="img-environment" src="value_images/environment.png" height="128pt"/>
    <div class="bar environment" id="bar-environment"><div class="text-wrapper" id="environment"></div></div>
    <div class="bar industry" id="bar-industry"><div class="text-wrapper" id="industry"></div></div>
    <img id="img-industry" src="value_images/industry.png" height="128pt"/>
</div>
<h2>Technological Axis: <span class="weight-300" id="technological-label"></span></h2>
<div class="axis">
    <img id="img-futurist" src="value_images/futurist.png" height="128pt"/>
    <div class="bar futurist" id="bar-futurist"><div class="text-wrapper" id="futurist"></div></div>
    <div class="bar primitivist" id="bar-primitivist"><div class="text-wrapper" id="primitivist"></div></div>
    <img id="img-primitivist" src="value_images/primitivist.png" height="128pt"/>
</div>
<h2>Social Focus Axis: <span class="weight-300" id="socialfocus-label"></span></h2>
<div class="axis">
    <img id="img-individual" src="value_images/individual.png" height="128pt"/>
    <div class="bar individual" id="bar-individual"><div class="text-wrapper" id="individual"></div></div>
    <div class="bar collective" id="bar-collective"><div class="text-wrapper" id="collective"></div></div>
    <img id="img-collective" src="value_images/collective.png" height="128pt"/>
</div>
<h2>Religious Axis: <span class="weight-300" id="religious-label"></span></h2>
<div class="axis">
    <img id="img-religious" src="value_images/religious.png" height="128pt"/>
    <div class="bar religious" id="bar-religious"><div class="text-wrapper" id="religious"></div></div>
    <div class="bar secular" id="bar-secular"><div class="text-wrapper" id="secular"></div></div>
    <img id="img-secular" src="value_images/secular.png" height="128pt"/>
</div>
<h2>Closest Match: <span class="weight-300" id="ideology-label"></span></h2>
<p>Ideological matching is a work in progress, and is much less accurate than the values and axes.</p>
<p>You can send these results by copying and pasting the URL at the top of the page or using the image below. Think your matched ideology was wrong? Want to help us calibrate the test? Send the results along with your political ideology to us at socvalues.github.io@gmail.com, or send us any comments, questions, or criticism. </p>
<hr/>
<canvas id="banner" width=800 height=890 style="font-family:Montserrat"></canvas>
<button class="button" onclick="location.href='index.html';" style="background-color: #2196f3;">Back</button> <br>
<!-- Website visit statistics - no personal information is collected! -->
<script type="text/javascript">
var sc_project=11325211;
var sc_invisible=1;
var sc_security="fd9f0659";
var scJsHost = (("https:" == document.location.protocol) ?
"https://secure." : "http://www.");
document.write("<sc"+"ript type='text/javascript' src='" +
scJsHost+
"statcounter.com/counter/counter.js'></"+"script>");
</script>
<noscript><div class="statcounter"><a title="web stats"
href="http://statcounter.com/" target="_blank"><img
class="statcounter"
src="//c.statcounter.com/11325211/0/fd9f0659/1/" alt="web
stats"></a></div></noscript>
<script>
    function getQueryVariable(variable)
    {
           var query = window.location.search.substring(1)
           var vars = query.split("&")
           for (var i=0;i<vars.length;i++) {
                   var pair = vars[i].split("=")
                   if(pair[0] == variable) {return pair[1]}
           }
           return(NaN);
    }

    function setBarValue(name, value) {
        innerel = document.getElementById(name)
        outerel = document.getElementById("bar-" + name)
        outerel.style.width = (value + "%")
        innerel.innerHTML = (value + "%")
        if (innerel.offsetWidth + 20 > outerel.offsetWidth) {
            innerel.style.visibility = "hidden"
        }
    }

    econArray = ["Communist","Socialist","Social","Centrist","Market","Capitalist","Laissez-Faire"]
    govtArray = ["Anarchist","Libertarian","Liberal","Moderate","Statist","Authoritarian","Totalitarian"]
    sctyArray = ["Revolutionary","Very Progressive","Progressive","Neutral","Conservative","Traditional","Reactionary"]
    diplArray = ["Cosmopolitan","Internationalist","Peaceful","Balanced","Patriotic","Nationalist","Chauvinist"]
	envrArray = ["Extremely Environmental","Very Environmental","Green","Balanced","Industrial","Very Industrial","Extremely Industrial"]
	techArray = ["Transhumanist","Very Futurist","Futurist","Neutral","Traditional","Very Traditional","Primitivist"]
	focsArray = ["Extremely Individualist","Very Individualist","Individualist","Balanced","Collectivist","Very Collectivist","Extremely Collectivist"]
	reliArray = ["Theocratic","Very Religious","Religious","Neutral","Secular","Very Secular","Extremly Secular"]

    function setLabel(val,ary) {
        if (val > 100) { return "" } else
        if (val > 90) { return ary[0] } else
        if (val > 75) { return ary[1] } else
        if (val > 60) { return ary[2] } else
        if (val >= 40) { return ary[3] } else
        if (val >= 25) { return ary[4] } else
        if (val >= 10) { return ary[5] } else
        if (val >= 0) { return ary[6] } else
        	{return ""}
    }

    equality    = getQueryVariable("e")
    coercion    = getQueryVariable("g")
    progress    = getQueryVariable("s")
    nation      = getQueryVariable("d")
	environment = getQueryVariable("n")
	futurist    = getQueryVariable("t")
	individual  = getQueryVariable("f")
	religious   = getQueryVariable("r")
    classs       = (100 - equality   ).toFixed(1)
    freedom     = (100 - coercion   ).toFixed(1)
    tradition   = (100 - progress   ).toFixed(1)
    world       = (100 - nation     ).toFixed(1)
	industry    = (100 - environment).toFixed(1)
	primitivist = (100 - futurist   ).toFixed(1)
	collective  = (100 - individual ).toFixed(1)
	secular     = (100 - religious  ).toFixed(1)

    setBarValue("equality", equality)
    setBarValue("classs", classs)
    setBarValue("coercion", coercion)
    setBarValue("freedom", freedom)
    setBarValue("progress", progress)
    setBarValue("tradition", tradition)
    setBarValue("nation", nation)
    setBarValue("world", world)
	setBarValue("environment", environment)
	setBarValue("industry", industry)
	setBarValue("futurist", futurist)
	setBarValue("primitivist", primitivist)
	setBarValue("individual", individual)
	setBarValue("collective", collective)
	setBarValue("religious", religious)
	setBarValue("secular", secular)

    document.getElementById("economic-label").innerHTML = setLabel(equality, econArray)
    document.getElementById("civil-label").innerHTML = setLabel(coercion, govtArray)
    document.getElementById("society-label").innerHTML = setLabel(progress, sctyArray)
    document.getElementById("diplomatic-label").innerHTML = setLabel(nation, diplArray)
	document.getElementById("environmental-label").innerHTML = setLabel(environment, envrArray)
	document.getElementById("technological-label").innerHTML = setLabel(futurist, techArray)
	document.getElementById("socialfocus-label").innerHTML = setLabel(individual, envrArray)
	document.getElementById("religious-label").innerHTML = setLabel(religious, techArray)

// 1.73856063

    ideology = ""
    ideodist = Infinity
    for (var i = 0; i < ideologies.length; i++) {
        dist = 0
        dist += Math.pow(Math.abs(ideologies[i].stats.econ - equality), 2)
        dist += Math.pow(Math.abs(ideologies[i].stats.govt - coercion), 2)
        dist += Math.pow(Math.abs(ideologies[i].stats.scty - progress), 2)
        dist += Math.pow(Math.abs(ideologies[i].stats.dipl - nation), 2)
		dist += Math.pow(Math.abs(ideologies[i].stats.envr - environment), 2)
		dist += Math.pow(Math.abs(ideologies[i].stats.tech - futurist), 2)
		dist += Math.pow(Math.abs(ideologies[i].stats.focs - individual), 2)
		dist += Math.pow(Math.abs(ideologies[i].stats.tech - religious), 2)
		
        if (dist < ideodist) {
            ideology = ideologies[i].name
            ideodist = dist
        }
    }
    document.getElementById("ideology-label").innerHTML = ideology

    function createImage(src, x, y, w, h) {
        img = new Image ()
        img.src = src
        img.onLoad = function() {
            ctx.drawImage(img, x, y, w, h)
        }
    }

    window.onload = function() {
        var c = document.getElementById("banner")
        var ctx = c.getContext("2d")
        c.width = 800;
        c.height = 1130;
        ctx.fillStyle = "#EEEEEE"
        ctx.fillRect(0,0,800,1130);

        img = document.getElementById("img-equality")
        ctx.drawImage(img, 20, 170, 100, 100);
        img = document.getElementById("img-classs")
        ctx.drawImage(img, 680, 170, 100, 100)
        img = document.getElementById("img-coercion")
        ctx.drawImage(img, 20, 290, 100, 100)
        img = document.getElementById("img-freedom")
        ctx.drawImage(img, 680, 290, 100, 100)
        img = document.getElementById("img-progress")
        ctx.drawImage(img, 20, 410, 100, 100)
        img = document.getElementById("img-tradition")
        ctx.drawImage(img, 680, 410, 100, 100)
        img = document.getElementById("img-nation")
        ctx.drawImage(img, 20, 530, 100, 100)
        img = document.getElementById("img-world")
        ctx.drawImage(img, 680, 530, 100, 100)
		img = document.getElementById("img-environment")
		ctx.drawImage(img, 20, 650, 100, 100)
		img = document.getElementById("img-industry")
		ctx.drawImage(img, 680, 650, 100, 100)
		img = document.getElementById("img-futurist")
		ctx.drawImage(img, 20, 770, 100, 100)
		img = document.getElementById("img-primitivist")
		ctx.drawImage(img, 680, 770, 100, 100)
		img = document.getElementById("img-individual")
		ctx.drawImage(img, 20, 890, 100, 100)
		img = document.getElementById("img-collective")
		ctx.drawImage(img, 680, 890, 100, 100)
		img = document.getElementById("img-religious")
		ctx.drawImage(img, 20, 1010, 100, 100)
		img = document.getElementById("img-secular")
		ctx.drawImage(img, 680, 1010, 100, 100)

        ctx.fillStyle="#222222"
        ctx.fillRect(120, 180, 560, 80)
        ctx.fillRect(120, 300, 560, 80)
        ctx.fillRect(120, 420, 560, 80)
        ctx.fillRect(120, 540, 560, 80)
		ctx.fillRect(120, 660, 560, 80)
		ctx.fillRect(120, 780, 560, 80)
		ctx.fillRect(120, 900, 560, 80)
		ctx.fillRect(120, 1020, 560, 80)
        ctx.fillStyle="#f44336"
        ctx.fillRect(120, 184, 5.6*equality-2, 72)
        ctx.fillStyle="#00897b"
        ctx.fillRect(682-5.6*classs, 184, 5.6*classs-2, 72)
        ctx.fillStyle="#3f51b5"
        ctx.fillRect(120, 304, 5.6*coercion-2, 72)
        ctx.fillStyle="#ffeb3b"
        ctx.fillRect(682-5.6*freedom, 304, 5.6*freedom-2, 72)
        ctx.fillStyle="#9c27b0"
        ctx.fillRect(120, 424, 5.6*progress-2, 72)
        ctx.fillStyle="#6de3d7"
        ctx.fillRect(682-5.6*tradition, 424, 5.6*tradition-2, 72)
        ctx.fillStyle="#ff9800"
        ctx.fillRect(120, 544, 5.6*nation-2, 72)
        ctx.fillStyle="#03a9f4"
        ctx.fillRect(682-5.6*world, 544, 5.6*world-2, 72)
		ctx.fillStyle="#8bc34a"
		ctx.fillRect(120, 664, 5.6*environment-2, 72)
		ctx.fillStyle="#ed38b4"
		ctx.fillRect(682-5.6*industry, 664, 5.6*industry-2, 72)
		ctx.fillStyle="#1b57ee"
		ctx.fillRect(120, 784, 5.6*futurist-2, 72)
		ctx.fillStyle="#158830"
		ctx.fillRect(682-5.6*primitivist, 784, 5.6*primitivist-2, 72)
        ctx.fillStyle="#be85fe"
		ctx.fillRect(120, 904, 5.6*individual-2, 72)
		ctx.fillStyle="#d90000"
		ctx.fillRect(682-5.6*collective, 904, 5.6*collective-2, 72)
		ctx.fillStyle="#ff6c6c"
		ctx.fillRect(120, 1024, 5.6*religious-2, 72)
		ctx.fillStyle="#46804b"
		ctx.fillRect(682-5.6*secular, 1024, 5.6*secular-2, 72)
        ctx.fillStyle="#222222"
        ctx.font="700 80px Montserrat"
        ctx.textAlign="left"
        ctx.fillText("SocValues", 20, 90)
        ctx.font="50px Montserrat"
        ctx.fillText(ideology, 20, 140)

        ctx.textAlign="left"
        if (equality    > 30) {ctx.fillText(equality + "%", 130, 237.5)}
        if (coercion    > 30) {ctx.fillText(coercion + "%", 130, 357.5)}
        if (progress    > 30) {ctx.fillText(progress + "%", 130, 477.5)}
        if (nation      > 30) {ctx.fillText(nation + "%", 130, 597.5)}
		if (environment > 30) {ctx.fillText(environment + "%", 130, 717.5)}
		if (futurist    > 30) {ctx.fillText(futurist + "%", 130, 837.5)}
		if (individual  > 30) {ctx.fillText(individual + "%", 130, 957.5)}
		if (religious   > 30) {ctx.fillText(religious + "%", 130, 1077.5)}
        ctx.textAlign="right"
        if (classs       > 30) {ctx.fillText(classs + "%", 670, 237.5)}
        if (freedom     > 30) {ctx.fillText(freedom + "%", 670, 357.5)}
        if (tradition   > 30) {ctx.fillText(tradition + "%", 670, 477.5)}
        if (world       > 30) {ctx.fillText(world + "%", 670, 597.5)}
		if (industry    > 30) {ctx.fillText(industry + "%", 670, 717.5)}
		if (primitivist > 30) {ctx.fillText(primitivist + "%", 670, 837.5)}
		if (individual  > 30) {ctx.fillText(collective + "%", 670, 957.5)}
		if (secular     > 30) {ctx.fillText(secular + "%", 670, 1077.5)}

        ctx.font="300 30px Montserrat"
        ctx.fillText("socvalues.github.io", 780, 60)
		ctx.fillText(version, 780, 90)
        ctx.textAlign="center"
        ctx.fillText("Economic Axis: " + document.getElementById("economic-label").innerHTML, 400, 175)
        ctx.fillText("Civil Axis: " + document.getElementById("civil-label").innerHTML, 400, 295)
        ctx.fillText("Social Axis: " + document.getElementById("society-label").innerHTML, 400, 415)
        ctx.fillText("Diplomatic Axis: " + document.getElementById("diplomatic-label").innerHTML, 400, 535)
		ctx.fillText("Environmental Axis: " + document.getElementById("environmental-label").innerHTML, 400, 655)
		ctx.fillText("Technological Axis: " + document.getElementById("technological-label").innerHTML, 400, 775)
		ctx.fillText("Social Focus Axis: " + document.getElementById("socialfocus-label").innerHTML, 400, 895)
		ctx.fillText("Religious Axis: " + document.getElementById("religious-label").innerHTML, 400, 1015)

        document.getElementById("banner").src = c.toDataURL();
    }
    </script>
</body>
